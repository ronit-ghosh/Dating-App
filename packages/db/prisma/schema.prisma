generator client {
  provider = "prisma-client-js"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          String        @id @default(uuid())
  firstname   String
  lastname    String?
  email       String
  password    String
  dob         DateTime      @db.Date
  age         Int
  gender      Gender
  userDetails UserDetails[]
  Prompts     Prompts[]
  Images      Images[]
  createdAt   DateTime      @default(now())
  upadatedAt  DateTime      @updatedAt
  /**
   * no location field here
   * user_location will be stored separately
   * via raw SQL (../src/PostGIS.ts)
   */
}

/**
 * Most of the details are optional
 * bc user may or may not be be comfortable
 * sharing these details
 */
model UserDetails {
  userId           String   @id
  datingIntention  String?
  relationshipType String?
  familyPlans      String?
  work             String?
  jobTitle         String?
  college          String?
  highestDegree    String?
  politicalBeliefs String?
  drink            Boolean?
  tobacco          Boolean?
  weed             Boolean?
  drugs            Boolean?
  user             User     @relation(fields: [userId], references: [id])
  createdAt        DateTime @default(now())
  upadatedAt       DateTime @updatedAt
}

model Prompts {
  userId     String   @id
  user       User     @relation(fields: [userId], references: [id])
  title      String?
  desc       String?
  createdAt  DateTime @default(now())
  upadatedAt DateTime @updatedAt
}

model Images {
  userId          String   @id
  primaryImageUrl String
  imageUrl2       String
  imageUrl3       String
  imageUrl4       String
  imageUrl5       String
  imageUrl6       String
  user            User     @relation(fields: [userId], references: [id])
  createdAt       DateTime @default(now())
  upadatedAt      DateTime @updatedAt
}

enum Gender {
  MALE
  FEMALE
}
